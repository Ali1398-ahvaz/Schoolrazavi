<!doctype html>
<html lang="fa" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>فرم برنامه‌ریزی مطالعه هفتگی — Schoolrazavi</title>
<link href="https://cdn.fontcdn.ir/Font/Persian/Vazir/Vazir.css" rel="stylesheet">

<!-- Persian Datepicker -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/persian-datepicker@1.2.0/dist/css/persian-datepicker.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/persian-date@1.1.0/dist/persian-date.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/persian-datepicker@1.2.0/dist/js/persian-datepicker.min.js"></script>

<style>
:root{
  --primary:#0f4c75;
  --muted:#f7fbfd;
  --filled-bg:#c8f7c5;
  --text:#143243;
}
*{box-sizing:border-box}
body{font-family:'Vazir',sans-serif;background:var(--muted);color:var(--text);margin:0;padding:14px;direction:rtl}
.container{max-width:980px;margin:10px auto;background:#fff;border-radius:10px;padding:14px;box-shadow:0 6px 20px rgba(10,30,40,0.06)}
.header{display:flex;align-items:center;gap:12px;border-bottom:2px solid var(--primary);padding-bottom:10px}
.brand img{width:44px;height:44px;border-radius:6px}
h1{flex:1;font-size:16px;color:var(--primary);margin:0;text-align:center}
.meta{font-size:12px;color:#456}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:12px}
label{font-weight:700;font-size:13px}
input,select,textarea{font-family:'Vazir',sans-serif}
input,select,textarea{width:100%;padding:6px;border:1px solid #e1eef6;border-radius:6px;font-size:13px;background:#fff}
.small-input{width:120px;text-align:center}
.small-select{padding:4px 6px;font-size:12px;border-radius:6px}
.table-wrap{overflow:auto;margin-top:8px}
table{width:100%;border-collapse:collapse;font-size:13px}
th,td{padding:8px;border:1px solid #e6f0f6;text-align:center;vertical-align:middle}
th{background:var(--primary);color:#fff}
.filled{background:var(--filled-bg)!important;transition:background 0.3s ease}
@media(max-width:820px){.form-grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <div class="brand">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/Emblem_of_Iran.svg/120px-Emblem_of_Iran.svg.png">
    </div>
    <h1>فرم برنامه‌ریزی مطالعه هفتگی — Schoolrazavi</h1>
    <div class="meta" id="summary">خلاصه: هنوز پر نشده</div>
  </div>

  <div class="form-grid" role="form">
    <div>
      <label for="studentName">نام دانش‌آموز</label>
      <input id="studentName" name="studentName" placeholder="مثلاً: علی رضایی">
    </div>
    <div>
      <label for="className">کلاس</label>
      <select id="className" name="className">
        <option value="">انتخاب کلاس</option>
        <option value="7/1">۷/۱</option>
        <option value="7/2">۷/۲</option>
      </select>
    </div>

    <div class="full table-wrap">
      <table>
        <thead>
          <tr>
            <th>روز</th>
            <th>تاریخ</th>
            <th>نوبت 1</th>
            <th>نوبت 2</th>
            <th>نوبت 3</th>
            <th>توضیحات</th>
          </tr>
        </thead>
        <tbody id="scheduleBody"></tbody>
      </table>
    </div>
  </div>
</div>

<script>
const days = ['شنبه','یک‌شنبه','دوشنبه','سه‌شنبه','چهارشنبه','پنج‌شنبه','جمعه'];
const lessons = ['','ریاضی','علوم','ادبیات','عربی','مطالعات اجتماعی','زبان انگلیسی','مرور'];
const hours = ['','۷','۸','۹','۱۰','۱۱','۱۲','۱۳','۱۴','۱۵','۱۶','۱۷','۱۸','۱۹','۲۰','۲۱','۲۲'];

const scheduleBody = document.getElementById('scheduleBody');
days.forEach((day,i)=>{
  const tr = document.createElement('tr');
  tr.innerHTML = `
    <td>${day}</td>
    <td><input type="text" class="small-input date-input" name="date_${i}" placeholder="انتخاب تاریخ"></td>
    ${[0,1,2].map(n=>`
      <td>
        <select class="small-select" name="lesson_${n}_${i}">
          ${lessons.map(l=>`<option value="${l}">${l||'درس'}</option>`).join('')}
        </select>
        <br>
        <select class="small-select" name="from_${n}_${i}">
          ${hours.map(h=>`<option value="${h}">${h||'از'}</option>`).join('')}
        </select>
        <span>تا</span>
        <select class="small-select" name="to_${n}_${i}">
          ${hours.map(h=>`<option value="${h}">${h||'تا'}</option>`).join('')}
        </select>
      </td>`).join('')}
    <td><input name="note_${i}" placeholder="توضیحات"></td>
  `;
  scheduleBody.appendChild(tr);
});

// تاریخ‌نما (Datepicker) شمسی فعال
$(document).ready(function(){
  $(".date-input").persianDatepicker({
    format: 'YYYY/MM/DD',
    initialValue: true,
    autoClose: true,
    calendar: { persian: { locale: 'fa' } }
  });
});

// رنگ سلول‌های پرشده
document.addEventListener('input', e=>{
  if(e.target.matches('input, select')){
    const cell = e.target.closest('td');
    if(e.target.value.trim()!=='') cell.classList.add('filled');
    else cell.classList.remove('filled');
  }
});
</script>
</body>
</html>
